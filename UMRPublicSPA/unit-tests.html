<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>UMR Portals SPA Unit Tests</title>

    <link href="node_modules/jasmine-core/lib/jasmine-core/jasmine.css" rel="stylesheet" />
    <script src="node_modules/jasmine-core/lib/jasmine-core/jasmine.js"></script>
    <script src="node_modules/jasmine-core/lib/jasmine-core/jasmine-html.js"></script>
    <script src="node_modules/jasmine-core/lib/jasmine-core/boot.js"></script>

    <script src="node_modules/es6-shim/es6-shim.min.js"></script>
    <script src="node_modules/systemjs/dist/system-polyfills.js"></script>
    <script src="node_modules/zone.js/dist/zone.js"></script>
    <script src="node_modules/reflect-metadata/Reflect.js"></script>
    <script src="node_modules/systemjs/dist/system.src.js"></script>
    <script src="node_modules/typescript/lib/typescript.js"></script>

    <script src="node_modules/rxjs/bundles/Rx.js"></script>
    <script src="node_modules/angular2-in-memory-web-api/web-api.js"></script>


    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/angular2-cookie/bundles/angular2-cookie.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</head>
<body>

    <script>
        (function (global) {
            var map = {
                'app': 'app',
                'rxjs': 'node_modules/rxjs',
                'angular2-in-memory-web-api': 'node_modules/angular2-in-memory-web-api',
                '@angular': 'node_modules/@angular',
                'angular2-cookie': 'node_modules/angular2-cookie',
            };
            var packages = {
                'app': { main: 'boot.js', defaultExtension: 'js' },
                'angular2-cookie': { main: 'core.js', defaultExtension: 'js' },
                'rxjs': { defaultExtension: 'js' },
                'angular2-in-memory-web-api': { defaultExtension: 'js' },
            };
            var packageNames = [
                '@angular/common',
                '@angular/compiler',
                '@angular/core',
                '@angular/http',
                '@angular/platform-browser',
                '@angular/platform-browser-dynamic',
                '@angular/router-deprecated',
                '@angular/testing',
                '@angular/upgrade',
            ];
            packageNames.forEach(function (pkgName) {
                packages[pkgName] = { main: 'index.js', defaultExtension: 'js' };
            });
            var config = {
                map: map,
                packages: packages
            };
            System.config(config);
        })(this);

        Promise.all([
            System.import('app/common/pipes/my-uppercase.pipe.spec'),
            System.import('app/common/services/access-token.service.spec'),
            System.import('app/common/services/dialog.service.spec'),
            System.import('app/common/services/umr-cookie.service.spec'),
            System.import('app/crud/crud.component.spec'),
            System.import('app/crud/customer-list.component.spec'),
            System.import('app/crud/customer.service.spec'),
            System.import('app/crud/customer.spec'),
            System.import('app/home/home.component.spec'),
            System.import('app/login/logged-in-router-outlet.spec'),
            System.import('app/login/login.component.spec'),
            System.import('app/login/login.service.spec'),
            System.import('app/main/main.component.spec'),
            System.import('app/user_information/user-information.component.spec'),
            System.import('app/app.component.spec')
        ])

            .then(window.onload)
          .catch(console.error.bind(console));
    </script>
</body>
</html>
